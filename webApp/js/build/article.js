"use strict";layui.use(["layer","myExtend"],function(){var r=layui.layer,o=layui.myExtend;new Vue({el:"#article-list",data:{list:[]},methods:{remove:function(e,a){var l=this,i=o.normal_open("确认删除吗?","layer-delete-article",function(){r.close(i);var t=r.load(2);axios({url:"/system/admin/delete_article",method:"post",data:{article_id:e.id}}).then(function(e){r.close(t),e.data.errcode?(console.log(e),o.normal_open(e.data.errmsg,"layer-delete-article")):l.list.splice(a,1)}).catch(function(e){r.close(t),o.normal_open("发生错误: "+e,"layer-delete-article")})},["确认","取消"])}},created:function(){var t=this;axios({url:"/system/article_list",method:"post"}).then(function(e){e.data.errcode?o.normal_open(e.data.errmsg,"layer-article-list"):t.list=e.data.data}).catch(function(e){o.normal_open("发生错误: "+e,"layer-article-list")})},components:{"my-article":{props:["article"],template:"<li><h2>{{article.title}} <button class='layui-btn layui-btn-xs' @click='$emit(\"remove\")'>删除</button></h2></h2><article>{{article.content}}</article></li>"}}})});