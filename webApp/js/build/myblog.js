"use strict";layui.use(["layer","myExtend"],function(){var i=layui.layer,o=layui.myExtend;new Vue({el:"#article-list",data:{list:[]},methods:{remove:function(e,a){var l=this,r=o.normal_open("确认删除吗?","layer-delete-article",function(){i.close(r);var t=i.load(2);axios({url:"/system/user/delete_article",method:"post",data:{article_id:e.id}}).then(function(e){i.close(t),console.log(e),e.data.errcode?o.normal_open(e.data.errmsg,"layer-delete-article"):l.list.splice(a,1)}).catch(function(e){i.close(t),o.normal_open("发生错误: "+e,"layer-delete-article")})},["确认","取消"])}},mounted:function(){var t=this;axios({url:"/system/article_list",method:"post",data:{user:1}}).then(function(e){e.data.errcode?o.normal_open(e.data.errmsg,"layer-article-list"):t.list=e.data.data}).catch(function(e){o.normal_open("发生错误: "+e,"layer-article-list")})},components:{"my-article":{props:["article"],template:"<li><h2>{{article.title}}  <button @click='$emit(\"remove\")'>删除</button></h2><article>{{article.content}}</article></li>"}}})});