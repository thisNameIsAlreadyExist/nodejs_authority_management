"use strict";layui.use(["layer","myExtend"],function(){var l=layui.layer,n=layui.myExtend;new Vue({el:"#user-list",data:{list:[]},components:{"my-user":{props:["user"],template:"<tr><td class='user-name'>{{user.name}}</td><td v-if='!user.status'><button class='layui-btn layui-btn-xs' @click='setfreeze(1)'>加入小黑屋</button></td><td v-else><button class='layui-btn layui-btn-xs' @click='setfreeze(0)'>释放他</button></td></tr>",methods:{setfreeze:function(t){var s=t||0,a=this.$props.user,r=a.id;l.confirm("确认操作?",{title:"提示",icon:3},function(t){l.close(t);var e=l.load(2);n.http_post({url:"/system/admin/set_freeze",layer:e,data:{user_id:r,type:s},callback:function(t){a.status=s,n.normal_open(t.data.errmsg,"layer-set-freeze")}})})}}}},created:function(){var e=this;n.http_post({url:"/system/admin/user_list",callback:function(t){e.list=t.data.data}})}})});