"use strict";layui.use(["layer","myExtend"],function(){var n=layui.layer,u=layui.myExtend;new Vue({el:"#user-list",data:{list:[]},methods:{},components:{"my-user":{props:["user"],template:"<li><span class='user-name'>{{user.name}}</span><button class='layui-btn layui-btn-xs' v-if='!user.status' @click='setfreeze(1)'>加入小黑屋</button><button class='layui-btn layui-btn-xs' v-if='user.status' @click='setfreeze(0)'>释放他</button></li>",methods:{setfreeze:function(e){var t=e||0,s=this.$props.user,a=s.id,r=n.load(2);axios({url:"/system/admin/set_freeze",method:"post",data:{user_id:a,type:t}}).then(function(e){n.close(r),e.data.errcode||(s.status=t),u.normal_open(e.data.errmsg,"layer-set-freeze")}).catch(function(e){n.close(r),u.normal_open("发生错误: "+e,"layer-set-freeze")})}}}},created:function(){var t=this;axios({url:"/system/admin/user_list",method:"post"}).then(function(e){e.data.errcode?u.normal_open(e.data.errmsg,"layer-user-list"):t.list=e.data.data}).catch(function(e){u.normal_open("发生错误: "+e,"layer-user-list")})}})});